<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STRING_ARMA: User&#39;s Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="..\Mathjax\MathJax-2.7.3/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STRING_ARMA
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">Photovoltaic facilities evaluation under mismatched situations</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('users_guide.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">User's Guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#guide_overview">Overview</a></li>
<li class="level1"><a href="#guide_usage">Usage of the project</a></li>
<li class="level1"><a href="#input_file">Input file format</a></li>
<li class="level1"><a href="#output_file">Output file format</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="guide_overview"></a>
Overview</h1>
<p>The aim of this library is to provide the I-V characteristic of a simulated photovoltaic generator under mismatched conditions. The final goal is to help understand how mismatched conditions can affect the power production performance and how the implementation of bypass diodes modify the electrical behaviour of the panel. This is a hands-on guide with the recommended procedures to use this library. This section is focused on the proper usage and understanding of the functions and objects contained in the project. For any concept-related question refer to the <a class="el" href="main_page.html">Theoretical Documentation</a> section.</p>
<h1><a class="anchor" id="guide_usage"></a>
Usage of the project</h1>
<p>The library contains 5 different classes:</p>
<ul>
<li><b>SolarCell.</b> Represents a PV cell.</li>
<li><b>BypassDiode.</b> Represents a bypass diode.</li>
<li><b>SolarString.</b> Represents a string of PV cells and (maybe) a bypass diode.</li>
<li><b>SolarPanel.</b> Represents a PV panel composed by more than one PV string.</li>
<li><b>SolarSolver.</b> Object in charge of solving the state of the PV panels.</li>
</ul>
<p>The first three classes are not actually meant to be instantiated by the final user. However, it is important for the proper usage of the library to understand their hierarchical structure.</p>
<p>The usage of the library can be separated in two parts.</p>
<p><b>1. Creation of the panel</b></p>
<p>The first step is to define the structure and properties of the PV panel to be simulated. The structure and external factors of the panel are defined in the <a class="el" href="users_guide.html#input_file">input file</a> that must be introduced in the SolarPanel constructor.</p>
<p>Once instantiated, it is also possible to modify the parameters of the PV cells that compose the panel. To do this, the SolarPanel class has accessors (defined in the Classes documentation). In the following example the SolarPanel object is instantiated and some of the parameters of it are modified later.</p>
<div class="image">
<img src="users_image0.png" alt="" width="400px"/>
<div class="caption">
Fig. 1. Example of instantiation of SolarPanel object.</div></div>
<p>By using these accessors and the information contained in the input file the panel is completely defined.</p>
<p><b>2. Resolution of the panel</b></p>
<p>Once the panel is defined, the SolarSolver class can be instantiated by sending the SolarPanel object as an argument in the constructor. The objects that represent the panel (cell, diode and string) are then created.</p>
<p>Then, the SolarSolver object has two main methods that provide simulations of the panel.</p><ul>
<li><b>void calcState(std::string, double).</b> This method solve every variable in the panel for a given value of voltage. The location of the output file that will be created or overwritten is also given as an argument. This resulting file contains the current through every diode and then, in columns following this order, for every cell:<ul>
<li>Position of the string the cell is in.</li>
<li>Position of the cell in the string.</li>
<li>Irradiance in the cell [ \( W/m^{2} \)].</li>
<li>Temperature of the cell [ºC].</li>
<li>Current through the cell [A].</li>
<li>Voltage between the terminals of the cell [V]. <div class="image">
<img src="users_image1.png" alt="" width="400px"/>
<div class="caption">
Fig. 2. Example of the calcState() method of the SolarSolver object.</div></div>
</li>
</ul>
</li>
<li><b>void calcIVcharacteristic(std::string).</b> This method creates the current-voltage I-V characteristic of the panel. If the limits and number of points are not included in the constructor arguments, the limits are dynamically calculated and the characteristic contains 250 points. The location of the output file that will be created or overwritten must be given as an argument. The resulting file contains as rows as points in the characteristic. Each row contains the values of voltage and current, correspondently. The values are separated by a semi-colon ‘;’. <div class="image">
<img src="users_image2.png" alt="" width="400px"/>
<div class="caption">
Fig. 3. Example of the calcIVcharacteristic() method of the SolarSolver object.</div></div>
</li>
<li><b>void calcIVcharacteristic(std::string, double, double, int).</b> As explained above, this method can be called including the start and end voltage limits and the number of points in the characteristic. <div class="image">
<img src="users_image3.png" alt="" width="400px"/>
<div class="caption">
Fig. 4. Example of the overloaded calcIVcharacteristic() method of the SolarSolver object.</div></div>
 For more information on the output files, check the <a class="el" href="users_guide.html#output_file">Output file format</a> section. These are the main objects and methods meant to be used by final users.</li>
</ul>
<h1><a class="anchor" id="input_file"></a>
Input file format</h1>
<p>This section specifies the format and structure for the input file required to provide the physical information of a solar panel. This file contains the following information:</p><ul>
<li>Number of strings.</li>
<li>State of the bypass diode (0-broken / 1-ok).</li>
<li>Number of cells in every string.</li>
<li>Irradiance [W/m^2] and temperature [ºC] of every cell.</li>
</ul>
<dl class="section attention"><dt>Attention</dt><dd>The format recommended for the file is a **.csv** file. Other file formats may not being recognised by this library.</dd></dl>
<p>The structure to introduce the information in this file must follow these rules:</p><ul>
<li>Every string is composed by:<ul>
<li>The first line refers to the bypass diode. It only contains 1 value: 1 if the diode is present and ok, 0 if there is no diode or it is broken.</li>
<li>The following lines represent the cells in the string. Each line represent one cell and they are sorted following their physical order. Cell lines contain two double values: the first one belongs to the irradiance [W/m^2] and the second one to the cell temperature [ºC].</li>
<li>The string ends when it finds the next bypass diode line (next string) or an empty line (end of the file).</li>
</ul>
</li>
<li>The library understands the file order (of cells and strings) as their corresponding physical order.</li>
<li>There can only be bypass diode lines (1 value) and cell lines (2 values).</li>
<li>Bypass diode lines can only contain a Boolean value.</li>
<li>Cell lines can only contain two consecutive double values.</li>
<li>The first empty line will be interpreted as the end of the file and the rest of the file won't be taken into account.</li>
</ul>
<p>The following example represents a panel made out with 2 strings with 3 and 5 cells correspondingly. The first string doesn't have bypass diode and the second one is partially shaded. </p><pre class="fragment">0
1000.0;25.0
1000.0;25.0
1000.0;25.0
1
1000.0;25.0
250.5;23.6
213.4;20.7
250.5;23.6
1000.0;25.0
</pre><p>Please, consider that the ';' represents the division symbol of the .csv file used. Adapt this symbol according to your .csv editing software configuration.</p>
<h1><a class="anchor" id="output_file"></a>
Output file format</h1>
<p>This section explains the format and structure of the output files generated by the library. The files are expected to be .txt or .csv files. Other formats may lead to a unreadable file.</p>
<p>There are two possible formats for the output files, both generated by member methods od the SolarSolver object:</p><ul>
<li>The calcState() method generates a file with:<ul>
<li>The current through every diode, each one in a new row. A text string is used here: <blockquote class="doxtable">
<p>Idiode(x) = value A </p>
</blockquote>
</li>
<li>A blank row.</li>
<li>A header for the rest of the file: <blockquote class="doxtable">
<p>String,Cell,Irrad.,Temper.,Curr. (A),Tens. (V) </p>
</blockquote>
</li>
<li>Position of the string the cell is in.</li>
<li>Position of the cell in the string.</li>
<li>Irradiance in the cell [ \( W/m^{2} \)].</li>
<li>Temperature of the cell [ºC].</li>
<li>Current through the cell [A].</li>
<li>Voltage between the terminals of the cell [V]. All the values are separated by comas ‘,’ and have points ‘.’ as decimal separators. For example, the file can result into: <pre class="fragment">Idiode(0) = -5.6e-06 A

String,Cell,Irrad.,Temper.,Curr. (A),Tens. (V)
0,0,1000,298,-4.49165,0.875
0,1,1000,298,-4.49165,0.875
0,2,1000,298,-4.49165,0.875
0,3,1000,298,-4.49165,0.875
</pre></li>
</ul>
</li>
<li>The calcIVvharacteristic() method generates a file with:<ul>
<li>The total voltage in the panel [V].</li>
<li>The total current through the panel [A]. The values are separated by semicolons ‘;’. For example, the file can result into: <pre class="fragment">-2;1.06395e+06
-1.85;151713
-1.7;21636.3
-1.55;3088.31
-1.4;443.505
-1.25;66.3648
-1.1;12.5751
-0.95;4.89717
-0.8;3.87092
-0.65;3.80168
-0.5;3.80003
</pre> </li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
